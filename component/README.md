# 组件化开发

目录：
*   [引言](#引言)
*   [视图组件](#视图组件)
*   [工具组件](#工具组件)
*   [UI 组件](#UI-组件)

### 引言
前端系统的开发通常以功能需求为核心，一项功能可以被拆分为若干独立的模块分别予以实现。在实际开发中，一个中等规模的前端系统可能由数十个独立模块构成，此时模块化处理的分治粒度已无法进一步降低系统复杂度。更重要的是，由于前端不同技术元素分别对应各自的模块化方案，很难以直观的方式对它们进行整合。

为了更有效地对前端系统进行分治和整合，我们在模块化开发的基础上进一步抽象出 “组件” 概念：**组件是一组互相配合以实现某个具体功能的模块的集合**。

一个组件可以包含任意数量或类型的模块，取决于对应功能所需要的技术元素。例如一个实现 Ajax 请求功能的组件可能只需要包含一个 JavaScript 模块；而一个实现列表功能的组件则可能需要同时包含 JavaScript 模块，CSS 模块和 HTML 模块。

基于此，我们进一步将前端系统理解为：
*   一个前端系统由一组相关页面构成，每个页面分别对应系统的部分功能需求；
*   页面作为组件容器只提供基本的布局支持，通过包含和调用相关组件来间接实现其对应的功能需求；
*   组件由若干互相配合的模块构成，用于实现一项具体的功能需求；

由于组件需要将不同技术元素对应的模块有机整合在一起 —— 而这通常需要依赖第三方框架辅助实现，因此技术选型将最终决定组件的封装和调用策略。在实际开发中，我们统一使用 [Vue](https://cn.vuejs.org/) 作为组件化技术方案，同时按功能和作用域不同将组件类型划分为 **视图组件**、**工具组件** 和 **UI 组件**。

### 视图组件
在实际开发中，我们使用视图组件代替页面做为事实上的组件容器来实现各页面对应的功能需求。一个视图组件通常由对应的 JavaScript 模块、CSS 模块、HTML 模块及其他相关资源构成，例如：
```
├─── /login                     # 登录页视图组件
│    ├─── /assets               # 相关资源
│    │    └─── logo.png
│    ├─── index.vue             # HTML 模块，由 vue 文件实现
│    ├─── index.js              # JavaScript 模块
│    └─── index.css             # CSS 模块，可由 scss 文件实现
```

为使代码结构更加直观，我们要求每个路由唯一对应一个视图组件，且组件命名必须与对应路由保持一致，例如：
```
├─── /login         # 登录页视图组件，对应路由 /login
│
├─── /home          # 主页视图组件，对应路由 /home
```

### 工具组件
我们将类似 Ajax 请求组件这种用于实现某个特定的逻辑功能或数据单元，且不包含任何独立可视 / 可交互效果的组件统称为工具组件。一个工具组件通常由对应的 JavaScript 模块构成，例如：
```
├─── /$api-conf           # 接口配置组件
│    └─── index.js
│
├─── /$router             # 路由组件
│    └─── index.js
```

### UI 组件
我们将类似列表组件这种具备独立可视 / 可交互功能的组件统称为 UI 组件。同视图组件一样，一个 UI 组件通常由对应的 JavaScript 模块、CSS 模块、HTML 模块及其他相关资源构成，例如：
```
├─── /list                                  # 列表组件
│    ├─── /assets                           # 相关资源
│    │    └─── icon.png
│    ├─── index.vue                         # HTML 模块，由 vue 文件实现
│    ├─── index.js                          # JavaScript 模块
│    └─── index.css                         # CSS 模块，可由 scss 文件实现
│
│
├─── /icon                                  # 图标组件
│    ├─── /assets                           # 相关资源
│    │    ├─── fontawesome-webfont.eot
│    │    ├─── fontawesome-webfont.svg
│    │    └─── fontawesome-webfont.ttf
│    └─── index.css                         # CSS 模块，可由 scss 文件实现
│
│
├─── /footer                                # 页脚组件
│    ├─── /assets                           # 相关资源
│    │    └─── logo.png
│    └─── index.vue                         # HTML 模块，由 vue 文件实现
```
